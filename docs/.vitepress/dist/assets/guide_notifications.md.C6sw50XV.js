import{_ as i,o as t,c as a,ae as e}from"./chunks/framework.Dn7Y7LSn.js";const c=JSON.parse('{"title":"Notifications","description":"","frontmatter":{},"headers":[],"relativePath":"guide/notifications.md","filePath":"guide/notifications.md"}'),n={name:"guide/notifications.md"};function l(h,s,o,p,d,r){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="notifications" tabindex="-1">Notifications <a class="header-anchor" href="#notifications" aria-label="Permalink to &quot;Notifications&quot;">​</a></h1><p>foxd can send notifications when network events occur. You configure notification channels in <code>config.toml</code> and then reference them in rules.</p><h2 id="supported-channels" tabindex="-1">Supported Channels <a class="header-anchor" href="#supported-channels" aria-label="Permalink to &quot;Supported Channels&quot;">​</a></h2><h3 id="telegram" tabindex="-1">Telegram <a class="header-anchor" href="#telegram" aria-label="Permalink to &quot;Telegram&quot;">​</a></h3><p>Send notifications via a Telegram bot.</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;telegram&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot_token = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456:ABC-DEF&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat_id = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;987654321&quot;</span></span></code></pre></div><p>To set up a Telegram bot:</p><ol><li>Message <a href="https://t.me/BotFather" target="_blank" rel="noreferrer">@BotFather</a> on Telegram and create a new bot</li><li>Copy the bot token</li><li>Send a message to your bot, then use the Telegram API to find your chat ID</li></ol><h3 id="ntfy" tabindex="-1">ntfy <a class="header-anchor" href="#ntfy" aria-label="Permalink to &quot;ntfy&quot;">​</a></h3><p>Send notifications to an <a href="https://ntfy.sh" target="_blank" rel="noreferrer">ntfy</a> topic.</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ntfy&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ntfy.sh&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">topic = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foxd-lan-monitor&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Optional authentication token</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># token = &quot;tk_YOUR_TOKEN_HERE&quot;</span></span></code></pre></div><h3 id="webhook" tabindex="-1">Webhook <a class="header-anchor" href="#webhook" aria-label="Permalink to &quot;Webhook&quot;">​</a></h3><p>Send a POST request to any URL.</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webhook&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/webhook&quot;</span></span></code></pre></div><h2 id="multiple-channels" tabindex="-1">Multiple Channels <a class="header-anchor" href="#multiple-channels" aria-label="Permalink to &quot;Multiple Channels&quot;">​</a></h2><p>You can configure as many channels as you want. Each <code>[[notifications]]</code> block defines one channel.</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;telegram&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot_token = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TOKEN_1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat_id = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CHAT_1&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ntfy&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server_url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://ntfy.sh&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">topic = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foxd-alerts&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webhook&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">url = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/hook&quot;</span></span></code></pre></div><h2 id="rules" tabindex="-1">Rules <a class="header-anchor" href="#rules" aria-label="Permalink to &quot;Rules&quot;">​</a></h2><p>Notifications are triggered by rules. Rules are managed through the web console or the REST API.</p><p>Each rule has:</p><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Human-readable name for the rule</td></tr><tr><td><code>description</code></td><td>Optional description</td></tr><tr><td><code>trigger_type</code></td><td>Event that fires the rule</td></tr><tr><td><code>mac_filter</code></td><td>Optional MAC address to limit the rule to a specific device</td></tr><tr><td><code>enabled</code></td><td>Whether the rule is active</td></tr><tr><td><code>notification_channels</code></td><td>Which notification channels to use</td></tr></tbody></table><h3 id="trigger-types" tabindex="-1">Trigger Types <a class="header-anchor" href="#trigger-types" aria-label="Permalink to &quot;Trigger Types&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Type</th><th>Fires when</th></tr></thead><tbody><tr><td><code>new_device</code></td><td>A device is seen for the first time</td></tr><tr><td><code>device_connected</code></td><td>A device comes online</td></tr><tr><td><code>device_disconnected</code></td><td>A device goes offline</td></tr><tr><td><code>device_status_change</code></td><td>A device changes status (online/offline)</td></tr></tbody></table>`,23)])])}const E=i(n,[["render",l]]);export{c as __pageData,E as default};
